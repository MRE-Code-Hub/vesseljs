<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>Vessel.js playground</title>
		<script src="../examples/3D_engine/legacy/three.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<script src="../build/vessel.js"></script>
		<!-- <script src="../source/jsm/ship/BaseObject.js" type="module"></script>
		<script src="../source/jsm/ship/JSONSpecObject.js" type="module"></script> -->
	</head>
	<body>
		<script  type="module">
			// import BaseObject from "../source/jsm/ship/BaseObject.js";
			import Ship from "../source/jsm/ship/Ship.js";
			// import {	Vessel as VesselEs5	} from "../build/modular_vessel.js"
			import Ship3D	from "../examples/3D_engine/modular_Ship3D.js"
			import * as THREE from 'https://cdn.skypack.dev/three@0.133.0';
			
			var ship3D

		new THREE.FileLoader().load("../examples/ship_specs/barge.json", useFileData)

		function useFileData(contents) {
			var shipspec = JSON.parse(contents)

			var ship = new Vessel.Ship(shipspec)
			var ship_es6 = new Ship(shipspec)

			if (ship3D !== undefined) {
				scene.remove(ship3D)
			}
			ship3D = new Ship3D(ship, {
				shipState: ship.designState.clone(),
				stlPath: "3D_models/STL/various",
				upperColor: 0x33aa33,
				lowerColor: 0xaa3333,
				hullOpacity: 1,
				deckOpacity: 1,
				objectOpacity: 1
			});
			// scene.add(ship3D)
			debugger

			// let LOA = ship.structure.hull.attributes.LOA
			// camera.position.set(0.3 * LOA, 0.7 * LOA, 0.7 * LOA)
			// controls.target = new THREE.Vector3(0, 0, 0)
			// controls.update()
			// animate()
		}		

		</script>
	</body>
</html>
